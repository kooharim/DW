<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>main</title>
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
      integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm"
      crossorigin="anonymous"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/main.css" />
  </head>
  <body>
    <div class="nav-bg-all">
      <nav>
        <!-- <div class="nav-Bar"> -->
        <div id="horizontal-underline"></div>
        <div class="logo-img">
          <!-- <img src="../img/MOVIE.svg">  -->
          <img
            src="../img/MOVIE Made in - Koo ha rim (1).svg"
            width="200px"
            height="100px"
          />
        </div>
        <div class="menu">
          <a href="#" class="aa1">Home</a>
          <a href="#" class="aa1">영화(film)</a>
          <a href="#" class="aa1">드라마( TV series)</a>
          <a href="#" class="aa1">예능 (unscripted shows)</a>
        </div>
        <div class="login">
          <a href="#">로그인 °</a>
          <a href="#">회원가입</a>
        </div>
        <!-- </div> -->
      </nav>
      <main>
        <section class="hero">
          <video
            src="../img/cap_30s.mp4"
            class="bg"
            autoplay
            loop
            muted
          ></video>
          <div class="hero-in">
            <h1>
              <span class="in">청년경찰</span>
              <button class="hero-in-btn">
                <img
                  src="../img/free-icon-play-button-arrowhead-27223.png"
                  width="30px"
                  height="30px"
                />
                <span>재생</span>
              </button>
            </h1>
          </div>
        </section>
      </main>
    </div>
    <!-- 캐러셀 시작 -->
    <div class="carousel_main">
      <!-- 캐러셀 이미지 삽입 -->
      <div class="carousel_wrapper">
        <div class="carousel_slide">
          <img src="../img/나쁜엄마.png" alt="#" />
        </div>
        <div class="carousel_slide">
          <img src="../img/김비서가 왜그럴까 .png" alt="#" />
        </div>
        <div class="carousel_slide">
          <img src="../img/내 아이디는 강남미인 .png" alt="#" />
        </div>
        <div class="carousel_slide">
          <img src="../img/별그대.png" alt="#" />
        </div>
        <div class="carousel_slide">
          <img src="../img/뷰티인사이드.png" alt="#" />
        </div>
        <div class="carousel_slide">
          <img src="../img/이번생은처음이라.png" alt="#" />
        </div>
        <div class="carousel_slide">
          <img src="../img/이상한변호사 우영우.png" alt="#" />
        </div>
      </div>

      <!-- 캐러셀 사이드 버튼 -->
      <div class="carousel_button_container">
        <button type="button" class="carousel_prev">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            fill="currentColor"
            class="bi bi-chevron-double-left"
            viewBox="0 0 16 16"
          >
            <path
              fill-rule="evenodd"
              d="M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"
            />
            <path
              fill-rule="evenodd"
              d="M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"
            />
          </svg>
        </button>
        <button type="button" class="carousel_next">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            fill="currentColor"
            class="bi bi-chevron-double-right"
            viewBox="0 0 16 16"
          >
            <path
              fill-rule="evenodd"
              d="M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z"
            />
            <path
              fill-rule="evenodd"
              d="M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z"
            />
          </svg>
        </button>
      </div>

      <!-- 캐러셀 중앙 버튼 -->
      <div class="carousel_pagination">
        <div class="carousel_circle"></div>
        <div class="carousel_circle"></div>
        <div class="carousel_circle"></div>
        <div class="carousel_circle"></div>
      </div>
    </div>
    <!-- 캐러셀 끝 -->

    <div class="films">
      <span class="film-titlt">
        영화(film)추천
        <img src="../img/1783.jpg" width="70px" height="70px"
      /></span>
    </div>
  </body>

  <script>
    let horizontalBar = document.getElementById("horizontal-underline");
    let horizontalMenus = document.querySelectorAll("nav:first-child a");

    function horizontalIndicator(e) {
      horizontalBar.style.left = e.offsetLeft + "px";
      horizontalBar.style.width = e.offsetWidth + "px";
      horizontalBar.style.top = e.offsetTop + e.offsetHeight + "px";
    }

    horizontalMenus.forEach((menu) =>
      menu.addEventListener("click", (e) =>
        horizontalIndicator(e.currentTarget)
      )
    );

    // 캐러셀 js
    const swiper = document.querySelector(".carousel_wrapper");
    const prevButtons = document.querySelectorAll(".carousel_prev");
    const nextButtons = document.querySelectorAll(".carousel_next");
    const bullets = document.querySelectorAll(".carousel_circle");

    let currentSlide = 0;

    function showSlide(slideIndex) {
      swiper.style.transform = `translateX(-${slideIndex * 300}px)`;
      currentSlide = slideIndex;

      bullets.forEach((bullet, index) => {
        if (index === currentSlide) {
          bullet.classList.add("active");
        } else {
          bullet.classList.remove("active");
        }
      });
    }

    prevButtons.forEach((prevButton) => {
      prevButton.addEventListener("click", () => {
        if (currentSlide > 0) {
          showSlide(currentSlide - 1);
        }
      });
    });

    nextButtons.forEach((nextButton) => {
      nextButton.addEventListener("click", () => {
        if (currentSlide < 3) {
          showSlide(currentSlide + 1);
        }
      });
    });

    bullets.forEach((bullet, index) => {
      bullet.addEventListener("click", () => {
        showSlide(index);
      });
    });

    showSlide(0);
  </script>
</html>
